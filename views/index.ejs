<!DOCTYPE html>
<html lang="en">
  <%- include('partials/header') %>
  <body>
    <%- include('partials/nav') %>
    <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" id="mytoast" data-bs-autohide="false">
      <div class="toast-body">
        Are You sure you want to delete this user?
        <div class="mt-2 pt-2 border-top">
          <button type="button" class="btn btn-danger btn-sm" id="delete-final">Delete</button>
          <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="toast">Cancel</button>
        </div>
      </div>
    </div>
    <div class="title">All users</div>
    <table class="table">
      <thead class="col-title">
        <tr>
          <th scope="col">Serial No</th>
          <th scope="col">Name</th>
          <th scope="col">Email</th>
          <th scope="col">Gender</th>
          <th scope="col">Status</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% var counter = 0; %>
        <% users.forEach((user) => { %>
        <% counter++; %>
        <tr class="rowitem">
          <th scope="row"><%=counter%></th>
          <td><%=user.name%></td>
          <td><%=user.email%></td>
          <td><%=user.gender%></td>
          <td><%=(user.status=="true") ? "active" : "inactive"%></td>
          <td>
            <i class="fas fa-light fa-pencil edit" data-id=<%=user.id%>></i>
            &nbsp; &nbsp; &nbsp;
            <i class="fa fa-solid fa-xmark delete" data-id=<%=user.id%>></i>
          </td>
        </tr>
        <% }); %>
      </tbody>
    </table>
    <script
      src="https://kit.fontawesome.com/c288fb27b2.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="./js/script.js"></script>
  </body>
</html>
